<kendo-pdf-export _ngcontent-uvf-c168="" papersize="A4" margin="2cm" id="div-book-content" class="col-12 col-sm-10 offset-0 div-book-content" uipath_custom_id="10"><div><app-page-content _ngcontent-uvf-c168="" _nghost-uvf-c166="" class="font-size-14 font-size-sm-20"><div _ngcontent-uvf-c166="" class="mainContent mt-4"><div _ngcontent-uvf-c166="" id="bookContent" class="bookContent"><div _ngcontent-uvf-c166="" id="content"><div class="sect1" style="abcpdf-tag-visible: true" id="AU_a55bf3ab-ba65-42ee-8e92-b9a87a555839" uri="ImagesUri_../download/5c180f28-f752-47db-98e8-8656c84b148d/images/">
      <h1 class="title">Les plus de Docker</h1>
      <div class="sect2" id="refTitle0">
        <h2 class="title">1. Au-delà du cloisonnement Linux</h2>
        <p class="defaut">La liste des fondations technologiques sur
lesquelles Docker s’appuie est, comme vu dans les pages précédentes,
particulièrement étoffée. Ceci ne signifie
en rien que Docker&nbsp;se contente d’assembler des modules
existants, et Docker a eu un grand succès justement parce
qu’il a habilement enrobé ces technologies avec des fonctionnalités
permettant de les utiliser de manière très simple&nbsp;:</p>
        <div class="divliste1">
          <ul class="liste1">
            <li class="liste1">
              <p class="liste1">Tout d’abord, un format
d’image pour démarrer les conteneurs avec un contenu applicatif,&nbsp;qui
a rapidement été redonné à la
communauté sous forme de standard.</p>
            </li>
            <li class="liste1">
              <p class="liste1">Ensuite, un registre prérempli
avec des milliers d’images pour la plupart des applications serveurs
et, de plus, accessible à tout un chacun pour partager d’autres
images réalisées par des particuliers ou des entreprises.</p>
            </li>
            <li class="liste1">
              <p class="liste1">Toutes les commandes nécessaires
pour gérer le cycle de vie d’un conteneur (lancement, pause,
redémarrage, suppression, etc.).</p>
            </li>
            <li class="liste1">
              <p class="liste1">Des commandes pour créer
et manipuler facilement des images, mais aussi lister les conteneurs
et leurs caractéristiques.</p>
            </li>
            <li class="liste1">
              <p class="liste1">Une gestion des logs et de l’interaction
avec le processus dans le conteneur par les flux standards, qui
permet de piloter l’exécution du conteneur au travers d’un
terminal&nbsp;interactif exactement comme un utilisateur le
ferait pour n’importe quel autre processus.</p>
            </li>
            <li class="liste1">
              <p class="liste1">Enfin, la capacité d’exposer
des ports, de partager aisément des répertoires, etc.</p>
            </li>
          </ul>
        </div>
        <p class="defaut">En plus de ces fonctionnalités, Docker
a accompagné, et même précédé parfois,
un changement majeur dans les architectures logicielles, désormais
plus modulaires. L’expression&nbsp;"philosophie de déploiement"
n’est peut-être pas trop forte pour décrire ce
changement radical.</p>
      </div>
      <div class="sect2" id="refTitle1">
        <h2 class="title">2. L’approche un conteneur = un processus</h2>
        <p class="defaut">Une des conséquences du fonctionnement
de Docker est qu’un conteneur présente un seul processus
applicatif au système. C’est aussi le cas du système
Linux d’une certaine manière, puisque tous les processus
héritent du processus de PID 1, mais le mécanisme
de fork se passe sur le même système, tandis que la
simplicité de lancement d’un conteneur tend à faire
lancer un conteneur pour chaque nouvelle instance applicative.</p>
        <p class="defaut">Bien sûr, il reste possible de multiplier
les processus dans un conteneur. Certains serveurs, par exemple,
vont forker des processus multiples pour répondre de manière
robuste&nbsp;aux sollicitations extérieures. Mais du
point de vue logique, ceci reste une seule et même application.</p>
        <p class="defaut">Il est possible de contourner le système
en utilisant par exemple supervisord comme processus principal et
en lui faisant gérer plusieurs applicatifs secondaires
dans un même conteneur, mais il est important de comprendre
que ce principe un conteneur = un processus a une valeur
en soi, en particulier parce qu’il participe de la simplification
que Docker a amenée aux méthodes de conteneurisation,
mais aussi parce qu’il permet de rendre beaucoup plus aisée la
maintenance d’applications constituées de plusieurs modules
indépendants, bien plus faciles à gérer
au final qu’une grosse application monolithique.</p>
      </div>
      <div class="sect2" id="refTitle2">
        <h2 class="title">3. L’écosystème Docker</h2>
        <p class="defaut">Dans une architecture virtualisée
comme VMware ou Hyper-V, l’hyperviseur est central, mais
aurait une utilité finalement réduite sans la
virtualisation des réseaux, le gestionnaire de machines
virtuelles, les outils de déplacement de machines à chaud,
les API de manipulation et les clients associés, etc.</p>
        <p class="defaut">Il en va de même pour Docker, qui
ne s’utilise pas seul. De par sa fonction centrale&nbsp;de
gestion du cycle de vie des conteneurs, il est l’outil
le plus en vue, mais ne donne sa pleine mesure qu’en s’adjoignant
un écosystème de plus en plus fourni.</p>
        <p class="defaut">Avant tout, Docker est multiple, et se compose
lui-même, comme nous l’avons vu plus haut, de plusieurs
modules&nbsp;:</p>
        <div class="divliste1">
          <ul class="liste1">
            <li class="liste1">
              <p class="liste1">un client en ligne
de commande permettant à l’utilisateur de saisir des commandes,</p>
            </li>
            <li class="liste1">
              <p class="liste1">un serveur répondant au
client par le biais d’une API et qui met en œuvre ces commandes,</p>
            </li>
            <li class="liste1">
              <p class="liste1">un démon correspondant à une
runtime de haut niveau qui va gérer le cycle de vie des
conteneurs,</p>
            </li>
            <li class="liste1">
              <p class="liste1">une runtime de bas niveau qui s’occupe
de la conteneurisation des processus dans ce qu’elle a de plus technique.</p>
            </li>
          </ul>
        </div>
        <p class="defaut">Mais la fonctionnalité de dépôt
central, réalisée par Docker Hub, est également
essentielle&nbsp;: un dépôt public, accessible
avec une simple connexion Internet, permet de favoriser la réutilisation
des images déjà préparées, et
c’est une des raisons principales de la vitesse d’adoption phénoménale
de Docker.</p>
        <p class="defaut">Enfin, Docker a su intégrer des technologies
développées de manière externe dans un
premier temps, afin de fournir les fonctionnalités supplémentaires nécessaires à sa
complétude. L’outil Fig est ainsi rapidement devenu
Docker Compose, et est monté de plusieurs versions depuis
lors. Il automatise la mise en œuvre de plusieurs conteneurs
en lien les uns avec les autres. Dans notre exemple plus haut d’application
trois-tiers, un script Docker Compose s’occuperait de démarrer
les trois conteneurs et de les relier. Nous utiliserons Docker Compose
dans les exemples de mise en œuvre un peu plus loin dans
le présent ouvrage, et la plupart de ses commandes principales
seront exposées.</p>
        <p class="defaut">Docker Machine permet de provisionner des
machines de déploiement de manière unifiée,
et ce quel que soit le support utilisé, local ou dans un
cloud. Il permet de réserver&nbsp;rapidement des machines
pour déployer des conteneurs sur Amazon, Azure, etc.</p>
        <p class="defaut">Docker Swarm permet d’administrer un cluster
de machines Docker, le faisant apparaître comme une seule
grosse machine prête à recevoir de multiples conteneurs.
En dehors du périmètre de Docker mais encore relativement
lié à lui, la technologie Kubernetes&nbsp;de
Google dépasse les limites de Docker et permet une mise
en œuvre de scénarios d’orchestration beaucoup
plus complexes, au prix, il est vrai, d’une certaine complexité de
gestion.</p>
        <div class="note">
          <div class="remarkimg"><span class="icon-note"></span></div>
          <div class="divinline">
            <p class="remarque">Les technologies Docker Compose, Docker
Machine et Docker Swarm citées ci-dessus ont fait un temps
l’objet d’un ouvrage séparé, également
aux Éditions ENI. La récente perte de vitesse
de Docker Swarm et, par rebond, de Docker Compose par rapport à Kubernetes
fait que le sujet peut désormais être considéré comme
une annexe du présent&nbsp;livre. Les mises à jour
sur ces technologies et les cas d’application (qui existent toujours,
même s’ils sont restreints) seront donc détaillés
dans les chapitres de fin du présent&nbsp;ouvrage.</p>
          </div>
        </div>
        <p class="defaut">Enfin, Docker Notary, Docker Secrets, Docker
Cloud, Docker Registry et de nombreuses autres technologies ajoutent
des fonctionnalités périmétriques au
cœur de Docker, à savoir le client, le serveur
et son API, permettant d’utiliser l’ensemble de
manière optimale pour des scénarios de déploiement
de plus en plus complexes. Bref, même si Docker en est
la pierre angulaire, c’est un véritable écosystème
qu’il convient de connaître pour gérer correctement sa
plateforme de conteneurs.</p>
      </div>
    </div></div></div></div></app-page-content><!----><!----><!----></div></kendo-pdf-export>